"use strict";var cov_2bsidgg6li=function(){var path="C:\\Users\\Adeola PC\\Desktop\\BootCamp\\Banka\\server\\build\\controllers\\dbController.js";var hash="17e8896172294d05da4c19104e3d72883e03deab";var Function=function(){}.constructor;var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\Adeola PC\\Desktop\\BootCamp\\Banka\\server\\build\\controllers\\dbController.js",statementMap:{"0":{start:{line:3,column:16},end:{line:3,column:45}},"1":{start:{line:5,column:17},end:{line:5,column:50}},"2":{start:{line:7,column:39},end:{line:7,column:93}},"3":{start:{line:9,column:0},end:{line:279,column:2}},"4":{start:{line:15,column:4},end:{line:15,column:69}},"5":{start:{line:23,column:4},end:{line:23,column:67}},"6":{start:{line:32,column:4},end:{line:32,column:71}},"7":{start:{line:42,column:4},end:{line:42,column:70}},"8":{start:{line:53,column:4},end:{line:53,column:40}},"9":{start:{line:63,column:4},end:{line:63,column:130}},"10":{start:{line:63,column:44},end:{line:63,column:85}},"11":{start:{line:63,column:90},end:{line:63,column:130}},"12":{start:{line:72,column:15},end:{line:81,column:5}},"13":{start:{line:82,column:4},end:{line:82,column:24}},"14":{start:{line:93,column:4},end:{line:95,column:7}},"15":{start:{line:94,column:6},end:{line:94,column:34}},"16":{start:{line:98,column:4},end:{line:100,column:7}},"17":{start:{line:99,column:6},end:{line:99,column:34}},"18":{start:{line:109,column:22},end:{line:125,column:5}},"19":{start:{line:126,column:4},end:{line:126,column:39}},"20":{start:{line:136,column:4},end:{line:138,column:7}},"21":{start:{line:137,column:6},end:{line:137,column:35}},"22":{start:{line:151,column:4},end:{line:153,column:7}},"23":{start:{line:152,column:6},end:{line:152,column:60}},"24":{start:{line:163,column:4},end:{line:165,column:7}},"25":{start:{line:164,column:6},end:{line:164,column:51}},"26":{start:{line:176,column:26},end:{line:187,column:5}},"27":{start:{line:188,column:4},end:{line:188,column:47}},"28":{start:{line:198,column:4},end:{line:200,column:7}},"29":{start:{line:199,column:6},end:{line:199,column:32}},"30":{start:{line:210,column:4},end:{line:212,column:7}},"31":{start:{line:211,column:6},end:{line:211,column:43}},"32":{start:{line:222,column:4},end:{line:224,column:7}},"33":{start:{line:223,column:6},end:{line:223,column:41}},"34":{start:{line:234,column:4},end:{line:236,column:7}},"35":{start:{line:235,column:6},end:{line:235,column:34}},"36":{start:{line:245,column:21},end:{line:245,column:48}},"37":{start:{line:246,column:16},end:{line:246,column:51}},"38":{start:{line:247,column:4},end:{line:247,column:32}},"39":{start:{line:259,column:26},end:{line:261,column:6}},"40":{start:{line:260,column:6},end:{line:260,column:57}},"41":{start:{line:262,column:4},end:{line:262,column:33}},"42":{start:{line:274,column:26},end:{line:276,column:6}},"43":{start:{line:275,column:6},end:{line:275,column:49}},"44":{start:{line:277,column:4},end:{line:277,column:33}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:7,column:9},end:{line:7,column:31}},loc:{start:{line:7,column:37},end:{line:7,column:95}},line:7},"1":{name:"getUsers",decl:{start:{line:14,column:21},end:{line:14,column:29}},loc:{start:{line:14,column:32},end:{line:16,column:3}},line:14},"2":{name:"getAccounts",decl:{start:{line:22,column:24},end:{line:22,column:35}},loc:{start:{line:22,column:38},end:{line:24,column:3}},line:22},"3":{name:"getTransactions",decl:{start:{line:31,column:28},end:{line:31,column:43}},loc:{start:{line:31,column:46},end:{line:33,column:3}},line:31},"4":{name:"getStaff",decl:{start:{line:41,column:21},end:{line:41,column:29}},loc:{start:{line:41,column:32},end:{line:43,column:3}},line:41},"5":{name:"save",decl:{start:{line:52,column:17},end:{line:52,column:21}},loc:{start:{line:52,column:34},end:{line:54,column:3}},line:52},"6":{name:"saveUser",decl:{start:{line:62,column:21},end:{line:62,column:29}},loc:{start:{line:62,column:35},end:{line:64,column:3}},line:62},"7":{name:"createUser",decl:{start:{line:71,column:23},end:{line:71,column:33}},loc:{start:{line:71,column:98},end:{line:83,column:3}},line:71},"8":{name:"findOneUser",decl:{start:{line:92,column:24},end:{line:92,column:35}},loc:{start:{line:92,column:48},end:{line:96,column:3}},line:92},"9":{name:"(anonymous_9)",decl:{start:{line:93,column:32},end:{line:93,column:33}},loc:{start:{line:93,column:49},end:{line:95,column:5}},line:93},"10":{name:"findStaff",decl:{start:{line:97,column:22},end:{line:97,column:31}},loc:{start:{line:97,column:44},end:{line:101,column:3}},line:97},"11":{name:"(anonymous_11)",decl:{start:{line:98,column:32},end:{line:98,column:33}},loc:{start:{line:98,column:49},end:{line:100,column:5}},line:98},"12":{name:"createAccount",decl:{start:{line:108,column:26},end:{line:108,column:39}},loc:{start:{line:108,column:163},end:{line:127,column:3}},line:108},"13":{name:"findAccountByEmail",decl:{start:{line:135,column:31},end:{line:135,column:49}},loc:{start:{line:135,column:57},end:{line:139,column:3}},line:135},"14":{name:"(anonymous_14)",decl:{start:{line:136,column:37},end:{line:136,column:38}},loc:{start:{line:136,column:54},end:{line:138,column:5}},line:136},"15":{name:"findAccount",decl:{start:{line:150,column:24},end:{line:150,column:35}},loc:{start:{line:150,column:62},end:{line:154,column:3}},line:150},"16":{name:"(anonymous_16)",decl:{start:{line:151,column:35},end:{line:151,column:36}},loc:{start:{line:151,column:52},end:{line:153,column:5}},line:151},"17":{name:"findAccountByAccountNumber",decl:{start:{line:162,column:39},end:{line:162,column:65}},loc:{start:{line:162,column:81},end:{line:166,column:3}},line:162},"18":{name:"(anonymous_18)",decl:{start:{line:163,column:35},end:{line:163,column:36}},loc:{start:{line:163,column:52},end:{line:165,column:5}},line:163},"19":{name:"createTransaction",decl:{start:{line:173,column:30},end:{line:173,column:47}},loc:{start:{line:175,column:58},end:{line:189,column:3}},line:175},"20":{name:"findTransactionById",decl:{start:{line:197,column:32},end:{line:197,column:51}},loc:{start:{line:197,column:59},end:{line:201,column:3}},line:197},"21":{name:"(anonymous_21)",decl:{start:{line:198,column:39},end:{line:198,column:40}},loc:{start:{line:198,column:56},end:{line:200,column:5}},line:198},"22":{name:"findTransactionByAccountNumber",decl:{start:{line:209,column:43},end:{line:209,column:73}},loc:{start:{line:209,column:81},end:{line:213,column:3}},line:209},"23":{name:"(anonymous_23)",decl:{start:{line:210,column:39},end:{line:210,column:40}},loc:{start:{line:210,column:56},end:{line:212,column:5}},line:210},"24":{name:"findAllAccountTransactionsByAccountNumber",decl:{start:{line:221,column:54},end:{line:221,column:95}},loc:{start:{line:221,column:103},end:{line:225,column:3}},line:221},"25":{name:"(anonymous_25)",decl:{start:{line:222,column:41},end:{line:222,column:42}},loc:{start:{line:222,column:56},end:{line:224,column:5}},line:222},"26":{name:"findAllAccountByStatus",decl:{start:{line:233,column:35},end:{line:233,column:57}},loc:{start:{line:233,column:65},end:{line:237,column:3}},line:233},"27":{name:"(anonymous_27)",decl:{start:{line:234,column:37},end:{line:234,column:38}},loc:{start:{line:234,column:52},end:{line:236,column:5}},line:234},"28":{name:"deleteAccount",decl:{start:{line:244,column:26},end:{line:244,column:39}},loc:{start:{line:244,column:57},end:{line:248,column:3}},line:244},"29":{name:"updateDB",decl:{start:{line:258,column:21},end:{line:258,column:29}},loc:{start:{line:258,column:57},end:{line:263,column:3}},line:258},"30":{name:"(anonymous_30)",decl:{start:{line:259,column:70},end:{line:259,column:71}},loc:{start:{line:259,column:85},end:{line:261,column:5}},line:259},"31":{name:"updateAccountDB",decl:{start:{line:273,column:28},end:{line:273,column:43}},loc:{start:{line:273,column:71},end:{line:278,column:3}},line:273},"32":{name:"(anonymous_32)",decl:{start:{line:274,column:59},end:{line:274,column:60}},loc:{start:{line:274,column:74},end:{line:276,column:5}},line:274}},branchMap:{"0":{loc:{start:{line:7,column:46},end:{line:7,column:92}},type:"cond-expr",locations:[{start:{line:7,column:70},end:{line:7,column:73}},{start:{line:7,column:76},end:{line:7,column:92}}],line:7},"1":{loc:{start:{line:7,column:46},end:{line:7,column:67}},type:"binary-expr",locations:[{start:{line:7,column:46},end:{line:7,column:49}},{start:{line:7,column:53},end:{line:7,column:67}}],line:7},"2":{loc:{start:{line:63,column:4},end:{line:63,column:130}},type:"if",locations:[{start:{line:63,column:4},end:{line:63,column:130}},{start:{line:63,column:4},end:{line:63,column:130}}],line:63},"3":{loc:{start:{line:152,column:13},end:{line:152,column:59}},type:"binary-expr",locations:[{start:{line:152,column:13},end:{line:152,column:33}},{start:{line:152,column:37},end:{line:152,column:59}}],line:152}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();var _database=(cov_2bsidgg6li.s[0]++,require("../models/database"));var _database2=(cov_2bsidgg6li.s[1]++,_interopRequireDefault(_database));function _interopRequireDefault(obj){cov_2bsidgg6li.f[0]++;cov_2bsidgg6li.s[2]++;return(cov_2bsidgg6li.b[1][0]++,obj)&&(cov_2bsidgg6li.b[1][1]++,obj.__esModule)?(cov_2bsidgg6li.b[0][0]++,obj):(cov_2bsidgg6li.b[0][1]++,{default:obj});}cov_2bsidgg6li.s[3]++;module.exports={/**
   * Gets all users
   * @return {obj}    - returns a copy of all users
   */getUsers:function getUsers(){cov_2bsidgg6li.f[1]++;cov_2bsidgg6li.s[4]++;return JSON.parse(JSON.stringify(_database2.default.USERS.USER));},/**
  * Gets all accounts
  * @return {obj}    - returns a copy of all accounts
  */getAccounts:function getAccounts(){cov_2bsidgg6li.f[2]++;cov_2bsidgg6li.s[5]++;return JSON.parse(JSON.stringify(_database2.default.ACCOUNTS));},/**
  * Gets all transactions
  * @return {obj}    - returns a copy of all transactions.
  */getTransactions:function getTransactions(){cov_2bsidgg6li.f[3]++;cov_2bsidgg6li.s[6]++;return JSON.parse(JSON.stringify(_database2.default.TRANSACTIONS));},/**
  * Gets all staff
  * @return {obj}    - returns a copy of all staff
  */getStaff:function getStaff(){cov_2bsidgg6li.f[4]++;cov_2bsidgg6li.s[7]++;return JSON.parse(JSON.stringify(_database2.default.USERS.STAFF));},/**
  * Saves object to database
  * @param {obj} obj - object to be saved
  * @param {string} model - the dictionary name the object is to be saved
  */save:function save(obj,model){cov_2bsidgg6li.f[5]++;cov_2bsidgg6li.s[8]++;_database2.default[model].push(obj);},/**
  * Saves object to user array-object in database
  * @param {obj} obj - object to be saved
  */saveUser:function saveUser(obj){cov_2bsidgg6li.f[6]++;cov_2bsidgg6li.s[9]++;if(obj.type.toLowerCase()==="staff"){cov_2bsidgg6li.b[2][0]++;cov_2bsidgg6li.s[10]++;_database2.default.USERS.STAFF.push(obj);}else{cov_2bsidgg6li.b[2][1]++;cov_2bsidgg6li.s[11]++;_database2.default.USERS.USER.push(obj);}},/**
  * Create a User
  * @param {obj} obj - object to be saved
  */createUser:function createUser(token,id,firstName,lastName,email,password,type,isAdmin){cov_2bsidgg6li.f[7]++;var user=(cov_2bsidgg6li.s[12]++,{token:token,id:id,firstName:firstName,lastName:lastName,email:email,password:password,type:type,isAdmin:isAdmin});cov_2bsidgg6li.s[13]++;this.saveUser(user);},/**
  * find object from database
  * @param {string} key - the key reference to be checked
  * @param {string} value - the value to be matched
  * @return {obj}    - returns a account obj that meets the pararmeters specified
  */findOneUser:function findOneUser(Key,Value){cov_2bsidgg6li.f[8]++;cov_2bsidgg6li.s[14]++;return this.getUsers().find(function(field){cov_2bsidgg6li.f[9]++;cov_2bsidgg6li.s[15]++;return field[Key]===Value;});},findStaff:function findStaff(Key,Value){cov_2bsidgg6li.f[10]++;cov_2bsidgg6li.s[16]++;return this.getStaff().find(function(field){cov_2bsidgg6li.f[11]++;cov_2bsidgg6li.s[17]++;return field[Key]===Value;});},/**
  * Create a Account
  * @param {obj} obj - object to be saved
  */createAccount:function createAccount(id,accountNumber,createdOn,owner,gender,status,firstName,lastName,email,type,balance,phoneNumber,dob,address){cov_2bsidgg6li.f[12]++;var userAccount=(cov_2bsidgg6li.s[18]++,{id:id,accountNumber:accountNumber,createdOn:createdOn,owner:owner,gender:gender,status:status,firstName:firstName,lastName:lastName,email:email,balance:balance,phoneNumber:phoneNumber,dob:dob,address:address,type:type});cov_2bsidgg6li.s[19]++;this.save(userAccount,"ACCOUNTS");},/**
  * Find object from database
  * @param {string} value - the value to be matched
  * @return {array}    - returns an array of account that meets the pararmeters specified
  */findAccountByEmail:function findAccountByEmail(Value){cov_2bsidgg6li.f[13]++;cov_2bsidgg6li.s[20]++;return this.getAccounts().filter(function(field){cov_2bsidgg6li.f[14]++;cov_2bsidgg6li.s[21]++;return field.email===Value;});},/**
   * Find object from database
   * @param {string} key - the value to be matched
   * @param {any} value - the value to be matched
   * @param {string} key1 - the value to be matched
   * @param {any} value1 - the value to be matched
   * @return {obj}    - returns a account obj that meets the pararmeters specified
   */findAccount:function findAccount(key,value,key1,value1){cov_2bsidgg6li.f[15]++;cov_2bsidgg6li.s[22]++;return this.getAccounts().find(function(field){cov_2bsidgg6li.f[16]++;cov_2bsidgg6li.s[23]++;return(cov_2bsidgg6li.b[3][0]++,field[key]===value)&&(cov_2bsidgg6li.b[3][1]++,field[key1]===value1);});},/**
  * Find object from database
  * @param {number} accountNumber - the value to be matched
  * @return {obj}    - returns a account obj that meets the pararmeters specified
  */findAccountByAccountNumber:function findAccountByAccountNumber(accountNumber){cov_2bsidgg6li.f[17]++;cov_2bsidgg6li.s[24]++;return this.getAccounts().find(function(field){cov_2bsidgg6li.f[18]++;cov_2bsidgg6li.s[25]++;return field.accountNumber===accountNumber;});},/**
  * Create a Transaction
  * @param {obj} obj - object to be saved
  */createTransaction:function createTransaction(id,createdOn,type,accountNumber,// cashier,
amount,oldBalance,newBalance,depositor,phoneNumber){cov_2bsidgg6li.f[19]++;var userTransaction=(cov_2bsidgg6li.s[26]++,{id:id,createdOn:createdOn,type:type,accountNumber:accountNumber,// cashier,
amount:amount,oldBalance:oldBalance,newBalance:newBalance,depositor:depositor,phoneNumber:phoneNumber});cov_2bsidgg6li.s[27]++;this.save(userTransaction,"TRANSACTIONS");},/**
  * Find object from database
  * @param {number} value - the value to be matched
  * @return {obj}    - returns a account obj that meets the pararmeters specified
  */findTransactionById:function findTransactionById(Value){cov_2bsidgg6li.f[20]++;cov_2bsidgg6li.s[28]++;return this.getTransactions().find(function(field){cov_2bsidgg6li.f[21]++;cov_2bsidgg6li.s[29]++;return field.id===Value;});},/**
  * Find object from database
  * @param {number} value - the value to be matched
  * @return {obj}    - returns a account obj that meets the pararmeters specified
  */findTransactionByAccountNumber:function findTransactionByAccountNumber(Value){cov_2bsidgg6li.f[22]++;cov_2bsidgg6li.s[30]++;return this.getTransactions().find(function(field){cov_2bsidgg6li.f[23]++;cov_2bsidgg6li.s[31]++;return field.accountNumber===Value;});},/**
  * Find objects from database
  * @param {number} value - the value to be matched
  * @return {array}    - returns an array of accounts that meets the pararmeters specified
  */findAllAccountTransactionsByAccountNumber:function findAllAccountTransactionsByAccountNumber(Value){cov_2bsidgg6li.f[24]++;cov_2bsidgg6li.s[32]++;return this.getTransactions().filter(function(obj){cov_2bsidgg6li.f[25]++;cov_2bsidgg6li.s[33]++;return obj.accountNumber===Value;});},/**
  * Find objects from database
  * @param {number} value - the value to be matched
  * @return {array}    - returns an array of account that meets the pararmeters specified
  */findAllAccountByStatus:function findAllAccountByStatus(Value){cov_2bsidgg6li.f[26]++;cov_2bsidgg6li.s[34]++;return this.getAccounts().filter(function(obj){cov_2bsidgg6li.f[27]++;cov_2bsidgg6li.s[35]++;return obj.status===Value;});},/**
  * Delete object from database
  * @param {obj} specificAccount - the account obj to be deleted
  */deleteAccount:function deleteAccount(specificAccount){cov_2bsidgg6li.f[28]++;var allAccount=(cov_2bsidgg6li.s[36]++,_database2.default.ACCOUNTS);var index=(cov_2bsidgg6li.s[37]++,allAccount.indexOf(specificAccount));cov_2bsidgg6li.s[38]++;allAccount.splice(index,1);},/**
  * Find object from database
  * @param {string} type - the array-object to be updated
  * @param {obj} account - the aqccount to be updated
  * @param {any} value - the value to be changed
  * @param {string} key - the key to be matched
  */updateDB:function updateDB(type,account,value,key){cov_2bsidgg6li.f[29]++;var accountToChange=(cov_2bsidgg6li.s[39]++,_database2.default[type.toUpperCase()].find(function(acc){cov_2bsidgg6li.f[30]++;cov_2bsidgg6li.s[40]++;return acc.accountNumber===account.accountNumber;}));cov_2bsidgg6li.s[41]++;accountToChange[key]=value;},/**
  * Find object from database
  * @param {string} type - the array-object to be updated
  * @param {obj} account - the aqccount to be updated
  * @param {any} value - the value to be changed
  * @param {string} key - the key to be matched
  */updateAccountDB:function updateAccountDB(accountNumber,key,value){cov_2bsidgg6li.f[31]++;var accountToChange=(cov_2bsidgg6li.s[42]++,_database2.default.ACCOUNTS.find(function(acc){cov_2bsidgg6li.f[32]++;cov_2bsidgg6li.s[43]++;return acc.accountNumber===accountNumber;}));cov_2bsidgg6li.s[44]++;accountToChange[key]=value;}};